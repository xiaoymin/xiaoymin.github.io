<!DOCTYPE html>
<html lang="zh-cmn-Hans" prefix="og: http://ogp.me/ns#" class="han-init">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <title>è‡ªå®šä¹‰APIæ¥å£åœ¨Knife4jçš„Uiç•Œé¢ä¸­æ˜¾ç¤º &mdash; å…«ä¸€èœåˆ€</title>
    <link rel="stylesheet" href="http://localhost:4000/assets/vendor/primer-css/css/primer.css">
    <link rel="stylesheet" href="http://localhost:4000/assets/vendor/primer-markdown/dist/user-content.min.css">
    <link rel="stylesheet" href="http://localhost:4000/assets/vendor/octicons/octicons/octicons.css">
    <link rel="stylesheet" href="http://localhost:4000/assets/css/components/collection.css">
    <link rel="stylesheet" href="http://localhost:4000/assets/css/components/repo-card.css">
    <link rel="stylesheet" href="http://localhost:4000/assets/css/sections/repo-list.css">
    <link rel="stylesheet" href="http://localhost:4000/assets/css/sections/mini-repo-list.css">
    <link rel="stylesheet" href="http://localhost:4000/assets/css/components/boxed-group.css">
    <link rel="stylesheet" href="http://localhost:4000/assets/css/globals/common.css">
    <link rel="stylesheet" href="http://localhost:4000/assets/vendor/share.js/dist/css/share.min.css">
    <link rel="stylesheet" href="http://localhost:4000/assets/css/globals/responsive.css">
    <link rel="stylesheet" href="http://localhost:4000/assets/css/posts/index.css">
    <!-- Latest compiled and minified CSS -->
    

    
    <link rel="canonical" href="http://localhost:4000/2023/07/13/knife4j-customer-add-api/">
    <link rel="alternate" type="application/atom+xml" title="å…«ä¸€èœåˆ€" href="http://localhost:4000/feed.xml">
    <link rel="shortcut icon" href="http://localhost:4000/favicon.ico">
    
    <meta property="og:title" content="è‡ªå®šä¹‰APIæ¥å£åœ¨Knife4jçš„Uiç•Œé¢ä¸­æ˜¾ç¤º">
      
    <meta name="keywords" content="["springfoxè‡ªå®šä¹‰æ¥å£", "springdocè‡ªå®šä¹‰æ¥å£", "knife4jè‡ªå®šä¹‰æ¥å£"]">
    <meta name="og:keywords" content="["springfoxè‡ªå®šä¹‰æ¥å£", "springdocè‡ªå®šä¹‰æ¥å£", "knife4jè‡ªå®šä¹‰æ¥å£"]">
      
    <meta name="description" content="æœ¬æ–‡ä¸»è¦ä»‹ç»åœ¨ Spring Boot åº”ç”¨ä¸­,å¦‚ä½•ä½¿ç”¨ springfox å’Œ springdoc æ¡†æ¶è‡ªå®šä¹‰æ·»åŠ å¤–éƒ¨ API æ¥å£,å¹¶åœ¨ Knife4j çš„ UI ç•Œé¢ä¸­å±•ç¤ºã€‚">
    <meta name="og:description" content="æœ¬æ–‡ä¸»è¦ä»‹ç»åœ¨ Spring Boot åº”ç”¨ä¸­,å¦‚ä½•ä½¿ç”¨ springfox å’Œ springdoc æ¡†æ¶è‡ªå®šä¹‰æ·»åŠ å¤–éƒ¨ API æ¥å£,å¹¶åœ¨ Knife4j çš„ UI ç•Œé¢ä¸­å±•ç¤ºã€‚">
      
    
    
        
    
    <meta property="og:url" content="http://localhost:4000/2023/07/13/knife4j-customer-add-api/">
    <meta property="og:site_name" content="å…«ä¸€èœåˆ€">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="zh_CN" />
    
    <meta property="article:published_time" content="2023-07-13">
    
    <script src="http://localhost:4000/assets/vendor/jquery/dist/jquery.min.js"></script>
    <script src="http://localhost:4000/assets/js/jquery-ui.js"></script>
    <script src="http://localhost:4000/assets/js/main.js"></script>
</head>
<body class="" data-mz="">
    <header class="site-header">
        <div class="container">
            <h1><a href="http://localhost:4000/" title="å…«ä¸€èœåˆ€"><span class="octicon octicon-mark-github"></span> å…«ä¸€èœåˆ€</a></h1>
            <button class="collapsed mobile-visible" type="button" onclick="toggleMenu();">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <nav class="site-header-nav" role="navigation">
                
                <a href="http://localhost:4000/" class=" site-header-nav-item" target="" title="é¦–é¡µ">é¦–é¡µ</a>
                
                <a href="http://localhost:4000/categories/" class=" site-header-nav-item" target="" title="åˆ†ç±»">åˆ†ç±»</a>
                
                <a href="http://localhost:4000/archives/" class=" site-header-nav-item" target="" title="å½’æ¡£">å½’æ¡£</a>
                
                <a href="http://localhost:4000/about/" class=" site-header-nav-item" target="" title="å…³äº">å…³äº</a>
                
            </nav>
        </div>
    </header>
    <!-- / header -->

    <section class="collection-head small geopattern" data-pattern-id="è‡ªå®šä¹‰APIæ¥å£åœ¨Knife4">
<div class="container">
  <div class="columns">
    <div class="column three-fourths">
      <div class="collection-title">
        <h1 class="collection-header">è‡ªå®šä¹‰APIæ¥å£åœ¨Knife4jçš„Uiç•Œé¢ä¸­æ˜¾ç¤º</h1>
        <div class="collection-info">
          
          <span class="meta-info">
            <span class="octicon octicon-calendar"></span> 2023/07/13
          </span>
          
          
          <span class="meta-info">
            <span class="octicon octicon-file-directory"></span>
            <a href="http://localhost:4000/categories/#Knife4j" title="Knife4j">Knife4j</a>
          </span>
          
          <span class="meta-info">
            <!--<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>-->
            <span id="busuanzi_container_page_pv"> æµè§ˆ<span id="busuanzi_value_page_pv"></span>æ¬¡</span>
          </span>
        </div>
      </div>
    </div>
  </div>
</div>
</section>
<!-- / .banner -->
<section class="container content">
<div class="columns">
  <div class="column three-fourths" >
    <article class="article-content markdown-body">
    <p>æœ¬æ–‡ä¸»è¦ä»‹ç»åœ¨ Spring Boot åº”ç”¨ä¸­,å¦‚ä½•ä½¿ç”¨ springfox å’Œ springdoc æ¡†æ¶è‡ªå®šä¹‰æ·»åŠ å¤–éƒ¨ API æ¥å£,å¹¶åœ¨ Knife4j çš„ UI ç•Œé¢ä¸­å±•ç¤ºã€‚</p>

<p>å…³è”Issuesï¼š</p>

<ul>
  <li>âœ… <a href="https://gitee.com/xiaoym/knife4j/issues/I640E8">æ·»åŠ SpringSecurityç™»å½•æ¥å£åˆ°knife4jä¸­</a></li>
</ul>

<p>ğŸ–ï¸ æœ¬æ–‡ä»“åº“ï¼š<a href="https://github.com/xiaoymin/knife4j-demo/tree/master/knife4j-customer-api">knife4j-customer-api</a></p>

<p>ğŸ“¹ è§†é¢‘åœ°å€ï¼š<a href="https://www.bilibili.com/video/BV19h4y1j7y9/?vd_source=ef34098d916a578698508a43063099ac">https://www.bilibili.com/video/BV19h4y1j7y9/?vd_source=ef34098d916a578698508a43063099ac</a></p>

<iframe src="//player.bilibili.com/player.html?aid=615960537&amp;bvid=BV19h4y1j7y9&amp;cid=1196531434&amp;page=1&amp;high_quality=1&amp;danmaku=0" allowfullscreen="allowfullscreen" width="100%" height="500" scrolling="no" frameborder="0" sandbox="allow-top-navigation allow-same-origin allow-forms allow-scripts"></iframe>

<h2 id="-æœ¬è´¨">ğŸŒ± æœ¬è´¨</h2>

<p>æˆ‘ä»¬è¦å®ç°å°†è‡ªå®šä¹‰çš„APIæ¥å£æ·»åŠ åˆ°Uiç•Œé¢ä¸­æ˜¾ç¤ºï¼Œå…¶å®æœ€ç®€å•çš„å°±æ˜¯åœ¨æˆ‘ä»¬æ¥å£æ¸²æŸ“çš„Swaggeræˆ–è€…OpenAPIå¯¹è±¡ä¸­ï¼Œæ·»åŠ ç›¸åº”çš„æ–°å¯¹è±¡(PS:ç”¨äºåœ¨OpenAPIè§„èŒƒä¸­æè¿°æ¥å£å®šä¹‰çš„<code class="language-plaintext highlighter-rouge">Operation</code>å¯¹è±¡)å±æ€§å°±å¥½äº†</p>

<p>è¿™éœ€è¦å€ŸåŠ©äºåº•å±‚è§£ææ¡†æ¶å¯¹å¤–æ˜¯å¦æä¾›äº†å¼€æ”¾æ¥å£ï¼Œå…è®¸æˆ‘ä»¬è¿™ä¹ˆåšï¼Œè¿˜å¥½ç›®å‰ä¸ç®¡æ˜¯springfoxæˆ–è€…springdocï¼Œå…¶å®éƒ½æ”¯æŒå¼€å‘è€…è‡ªå®šä¹‰ã€‚</p>

<p>ä¸»è¦çš„åŒºåˆ«æ˜¯ï¼š</p>

<ul>
  <li>âœ… <strong>springfox</strong>æä¾›çš„æ˜¯<a href="/docs/action/springfox/springfox3">spring-plugin</a>ä½“ç³»ï¼Œåœ¨è§£ææ—¶æ·»åŠ <code class="language-plaintext highlighter-rouge">Operation</code>å¯¹è±¡ï¼Œè¿™æ˜¯è¿›è¡Œä¸­çš„å¤„ç†è¡Œä¸º</li>
  <li>âœ… <strong>springdoc</strong>æä¾›çš„å…¨å±€Customeræ¥å£ï¼Œspringdocå·²ç»å®Œæˆäº†æ‰€æœ‰æ¥å£çš„å¯¹è±¡è§£æï¼Œä½†å¼€å‘è€…å®ç°Customeræ¥å£å¯ä»¥è‡ªå®šä¹‰æ›´æ”¹ï¼Œè¿™æ˜¯åç½®è¡Œä¸º</li>
</ul>

<h2 id="-springfox">ğŸ“œ springfox</h2>

<p>åœ¨springfoxçš„æ¡†æ¶ä¸­ï¼Œæä¾›äº†åŸºäºspring-pluginä½“ç³»çš„è§£ææ¥å£ï¼Œå¼€å‘è€…å¦‚æœé˜…è¯»è¿‡springfoxçš„æºç åï¼Œåº”è¯¥å¾ˆè½»æ¾å°±èƒ½å®ç°</p>

<p>ä¸»è¦çš„åŠ¨ä½œåŒ…æ‹¬ï¼š</p>

<ul>
  <li>ğŸ  è‡ªå®šä¹‰pluginæ¥å£ï¼Œå®ç°<code class="language-plaintext highlighter-rouge">ApiListingScannerPlugin.java</code>ç±»ï¼Œå¹¶ä¸”é€šè¿‡<code class="language-plaintext highlighter-rouge">@Component</code>æˆ–è€…Java Configå¾—<code class="language-plaintext highlighter-rouge">@Bean</code>æ³¨è§£æ³¨å…¥åˆ°Springçš„å®¹å™¨ä¸­</li>
  <li>ğŸ¢ åˆ›å»º<code class="language-plaintext highlighter-rouge">Operation</code>å¯¹è±¡ï¼Œè¯¥å¯¹è±¡æ˜¯ä¸€ä¸ªæ¥å£çš„æè¿°ï¼ŒåŒ…æ‹¬ï¼šè¯´æ˜ã€å‚æ•°ã€å“åº”ã€è¯·æ±‚ç±»å‹ç­‰ç­‰ï¼Œå¹¶ä¸”è¿”å›<code class="language-plaintext highlighter-rouge">ApiListingScannerPlugin.java</code>æ¥å£çº¦æŸçš„æ–¹æ³•ç±»å‹</li>
  <li>ğŸï¸ springfoxè¿™ç§æ–¹å¼åªèƒ½æä¾›ç®€å•çš„formè¡¨å•ç±»å‹çš„æ¥å£ï¼Œå¦‚æœæ˜¯ç±»ä¼¼<code class="language-plaintext highlighter-rouge">@RequestBody</code>ç±»å‹çš„JSONã€XMLè¯·æ±‚ï¼Œé‚£ä¹ˆ<strong>å»ºè®®æ”¾å¼ƒ~</strong></li>
</ul>

<p>ç¤ºä¾‹:æ·»åŠ ä¸€ä¸ªç®€å•çš„loginç™»å½•æ¥å£ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>

<p>```javascript title=â€com.xiaominfo.springfox.customer.CustomerApiPlugin.javaâ€
@Slf4j
@Component
public class CustomerApiPlugin implements ApiListingScannerPlugin {</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@Override
public List&lt;ApiDescription&gt; apply(DocumentationContext context) {
    // consumersã€produces
    Set&lt;String&gt; mediaSet = new HashSet&lt;&gt;();
    mediaSet.add(MediaType.APPLICATION_JSON_VALUE);
    // è®¾å®šå‚æ•°
    List&lt;Parameter&gt; parameters = new ArrayList&lt;&gt;();
    parameters.add(new ParameterBuilder().name("username").required(true).modelRef(new ModelRef("String")).defaultValue("test").description("ç”¨æˆ·å").build());
    parameters.add(new ParameterBuilder().name("password").required(true).modelRef(new ModelRef("String")).defaultValue("123").description("å¯†ç ").build());
    // æ¥å£çš„Tag
    Set&lt;String&gt; tags = new HashSet&lt;&gt;();
    tags.add("é¦–é¡µ");
    // æ„å»ºOperationå¯¹è±¡
    Operation usernamePasswordOperation = new OperationBuilder(new CachingOperationNameGenerator())
            .method(HttpMethod.POST)
            .tags(tags)
            .summary("ç”¨æˆ·åå¯†ç ç™»å½•")
            .notes("ç”¨æˆ·ç™»é™†è·å–token")
            .parameters(parameters)
            .consumes(mediaSet)
            .produces(mediaSet)
            .build();
    
    // éœ€è¦æ³¨æ„çš„æ˜¯groupNameéœ€è¦å’Œå¼€å‘è€…åˆ›å»ºçš„Docketå¯¹è±¡èµ‹å€¼çš„groupNameä¿æŒä¸€è‡´
    ApiDescription loginApiDescription = new ApiDescription("hello", "/login", "ç™»å½•æ¥å£æè¿°", Collections.singletonList(usernamePasswordOperation), false);
    return Collections.singletonList(loginApiDescription);
}

@Override
public boolean supports(DocumentationType documentationType) {
    return documentationType == DocumentationType.SWAGGER_2;
} } ```
</code></pre></div></div>

<h2 id="-springdoc">ğŸ“š springdoc</h2>

<p>åœ¨springdocä¸­ï¼Œå…¶å®å’Œspringdocçš„æ€æƒ³æ˜¯å®Œå…¨ä¸€è‡´çš„,springdocä¹Ÿå¼€æ”¾äº†ä¸¤ç§çº§åˆ«çš„customizeræ¥å£ï¼š</p>

<ul>
  <li>ğŸœï¸ <code class="language-plaintext highlighter-rouge">GlobalOperationCustomizer</code>ï¼šé’ˆå¯¹Operationçº§åˆ«çš„å…¨å±€è‡ªå®šä¹‰æ‰©å±•é’©å­å‡½æ•°ï¼Œå¼€å‘è€…å¯ä»¥å¯¹æ¥å£ä¸­æ¯ä¸€ä¸ªOperationè¿›è¡Œæ‰©å±•è‡ªå®šä¹‰å®ç°ï¼Œæˆ–è°ƒæ•´ï¼Œæˆ–ä¿®æ”¹ï¼Œæˆ–å¢åŠ æ‰©å±•éƒ½è¡Œï¼ŒKnife4jçš„éƒ¨åˆ†å¢å¼ºç‰¹æ€§å°±æ˜¯åŸºäºæ­¤å‡½æ•°å®ç°ï¼Œå¯ä»¥å‚è€ƒä»£ç <a href="https://gitee.com/xiaoym/knife4j/blob/dev/knife4j/knife4j-openapi3-jakarta-spring-boot-starter/src/main/java/com/github/xiaoymin/knife4j/spring/extension/Knife4jJakartaOperationCustomizer.java">Knife4jJakartaOperationCustomizer.java</a></li>
  <li>ğŸï¸ <code class="language-plaintext highlighter-rouge">GlobalOpenApiCustomizer</code>ï¼šæ˜¯é’ˆå¯¹æ•´ä¸ªOpenAPIçº§åˆ«çš„,å¼€å‘è€…åœ¨åˆ†ç»„æˆ–è€…åˆ†åŒ…åï¼Œå¾—åˆ°çš„å•ä¸ªOpenAPIå®ä¾‹ï¼Œå¼€å‘è€…å¯ä»¥æ“çºµå…¨å±€çš„OpenAPIå®ä¾‹ï¼Œè¯¥OpenAPIå¯¹è±¡å·²ç»æ˜¯springdocè§£æè¿‡çš„å®ä¾‹å¯¹è±¡ï¼Œä¾‹å¦‚è¯¥issuesä¸­çš„éœ€æ±‚ï¼Œå¼€å‘è€…åªéœ€è¦è‡ªå®šä¹‰åˆ›å»ºæ–°Operationå¯¹è±¡ï¼Œç„¶åé€šè¿‡OpenAPIå®ä¾‹å¯¹è±¡è¿›è¡Œaddæ·»åŠ å³å¯å®Œæˆæ­¤éœ€æ±‚ï¼Œéƒ¨åˆ†æ‰©å±•å¯ä»¥å‚è€ƒä»£ç ï¼š<a href="https://gitee.com/xiaoym/knife4j/blob/dev/knife4j/knife4j-openapi3-jakarta-spring-boot-starter/src/main/java/com/github/xiaoymin/knife4j/spring/extension/Knife4jOpenApiCustomizer.java">Knife4jOpenApiCustomizer.java</a></li>
  <li>ğŸ  æ‰©å±•å®ç°ç±»æ¥å£åï¼Œæ³¨å…¥Springçš„å®¹å™¨ä¸­å³å¯</li>
</ul>

<p>è€ƒè™‘åˆ°æˆ‘ä»¬æ˜¯æ–°å¢è‡ªå®šä¹‰çš„APIæ¥å£ï¼Œå› æ­¤ï¼Œå¯ä»¥å®ç°<code class="language-plaintext highlighter-rouge">GlobalOpenApiCustomizer</code>ç±»è¿›è¡Œæ‰©å±•</p>

<p>ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// com.xiaominfo.springdoc.customer.CustomerOperation.java</span>
<span class="p">@</span><span class="nd">Slf4j</span>
<span class="p">@</span><span class="nd">Component</span>
<span class="kr">public</span> <span class="kd">class</span> <span class="nx">CustomerOperation</span> <span class="kr">implements</span> <span class="nx">GlobalOpenApiCustomizer</span> <span class="p">{</span>
    
    <span class="p">@</span><span class="nd">Override</span>
    <span class="kr">public</span> <span class="k">void</span> <span class="nx">customise</span><span class="p">(</span><span class="nx">OpenAPI</span> <span class="nx">openApi</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">log</span><span class="p">.</span><span class="nx">info</span><span class="p">(</span><span class="dl">"</span><span class="s2">customer.</span><span class="dl">"</span><span class="p">);</span>
        <span class="c1">// å› ä¸ºè¦æ–°å¢è‡ªå®šä¹‰çš„æ¥å£ï¼Œç›´æ¥è¿™é‡Œadd</span>
        <span class="nx">PathItem</span> <span class="nx">pathItem</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PathItem</span><span class="p">();</span>
        <span class="c1">// åŸºç¡€ä¿¡æ¯ æ„å»ºOperation</span>
        <span class="nx">Operation</span> <span class="nx">operation</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Operation</span><span class="p">();</span>
        <span class="nx">operation</span><span class="p">.</span><span class="nx">operationId</span><span class="p">(</span><span class="dl">"</span><span class="s2">login</span><span class="dl">"</span><span class="p">);</span>
        <span class="nx">operation</span><span class="p">.</span><span class="nx">summary</span><span class="p">(</span><span class="dl">"</span><span class="s2">ç™»å½•æ¥å£</span><span class="dl">"</span><span class="p">);</span>
        <span class="nx">operation</span><span class="p">.</span><span class="nx">description</span><span class="p">(</span><span class="dl">"</span><span class="s2">æ ¹æ®ç”¨æˆ·åå’Œå¯†ç ç™»å½•è·å–token</span><span class="dl">"</span><span class="p">);</span>
        <span class="nx">operation</span><span class="p">.</span><span class="nx">tags</span><span class="p">(</span><span class="nx">Collections</span><span class="p">.</span><span class="nx">singletonList</span><span class="p">(</span><span class="dl">"</span><span class="s2">ç™»å½•</span><span class="dl">"</span><span class="p">));</span>
        <span class="c1">// æ„å»ºå‚æ•°</span>
        <span class="nx">List</span><span class="o">&lt;</span><span class="nx">Parameter</span><span class="o">&gt;</span> <span class="nx">parameters</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
        <span class="nx">parameters</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="k">new</span> <span class="nx">Parameter</span><span class="p">().</span><span class="nx">name</span><span class="p">(</span><span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">).</span><span class="nx">example</span><span class="p">(</span><span class="dl">"</span><span class="s2">zhangFei</span><span class="dl">"</span><span class="p">).</span><span class="nx">description</span><span class="p">(</span><span class="dl">"</span><span class="s2">ç”¨æˆ·å</span><span class="dl">"</span><span class="p">).</span><span class="nx">required</span><span class="p">(</span><span class="kc">true</span><span class="p">).</span><span class="nx">schema</span><span class="p">(</span><span class="k">new</span> <span class="nx">StringSchema</span><span class="p">()).</span><span class="k">in</span><span class="p">(</span><span class="dl">"</span><span class="s2">query</span><span class="dl">"</span><span class="p">));</span>
        <span class="nx">parameters</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="k">new</span> <span class="nx">Parameter</span><span class="p">().</span><span class="nx">name</span><span class="p">(</span><span class="dl">"</span><span class="s2">password</span><span class="dl">"</span><span class="p">).</span><span class="nx">example</span><span class="p">(</span><span class="dl">"</span><span class="s2">123456</span><span class="dl">"</span><span class="p">).</span><span class="nx">description</span><span class="p">(</span><span class="dl">"</span><span class="s2">å¯†ç </span><span class="dl">"</span><span class="p">).</span><span class="nx">required</span><span class="p">(</span><span class="kc">true</span><span class="p">).</span><span class="nx">schema</span><span class="p">(</span><span class="k">new</span> <span class="nx">StringSchema</span><span class="p">()).</span><span class="k">in</span><span class="p">(</span><span class="dl">"</span><span class="s2">query</span><span class="dl">"</span><span class="p">));</span>
        <span class="nx">operation</span><span class="p">.</span><span class="nx">parameters</span><span class="p">(</span><span class="nx">parameters</span><span class="p">);</span>
        <span class="c1">// æ„å»ºå“åº”body</span>
        <span class="nx">ApiResponses</span> <span class="nx">apiResponses</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ApiResponses</span><span class="p">();</span>
        <span class="nx">ApiResponse</span> <span class="nx">apiResponse</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ApiResponse</span><span class="p">();</span>
        <span class="nx">apiResponse</span><span class="p">.</span><span class="nx">description</span><span class="p">(</span><span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">).</span><span class="nx">content</span><span class="p">(</span><span class="k">new</span> <span class="nx">Content</span><span class="p">().</span><span class="nx">addMediaType</span><span class="p">(</span><span class="dl">"</span><span class="s2">*/*</span><span class="dl">"</span><span class="p">,</span> <span class="k">new</span> <span class="nx">MediaType</span><span class="p">().</span><span class="nx">schema</span><span class="p">(</span><span class="k">new</span> <span class="nx">StringSchema</span><span class="p">())));</span>
        <span class="nx">apiResponses</span><span class="p">.</span><span class="nx">addApiResponse</span><span class="p">(</span><span class="dl">"</span><span class="s2">200</span><span class="dl">"</span><span class="p">,</span><span class="nx">apiResponse</span><span class="p">);</span>
        <span class="nx">operation</span><span class="p">.</span><span class="nx">responses</span><span class="p">(</span><span class="nx">apiResponses</span><span class="p">);</span>
        <span class="c1">// è¯¥è‡ªå®šä¹‰æ¥å£ä¸ºpost</span>
        <span class="nx">pathItem</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">operation</span><span class="p">);</span>
        <span class="nx">openApi</span><span class="p">.</span><span class="nx">path</span><span class="p">(</span><span class="dl">"</span><span class="s2">/login</span><span class="dl">"</span><span class="p">,</span> <span class="nx">pathItem</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>æ­¤æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç•Œé¢ä¸­æŸ¥çœ‹ï¼Œå·²ç»å­˜åœ¨äº†æˆ‘ä»¬è‡ªå®šä¹‰æ–°å¢çš„æ¥å£ï¼Œå¦‚ä¸‹å›¾ï¼š</p>

<p><img src="/images/blog/customer-api/customer-api-preview.jpg" alt="å›¾1.è‡ªå®šä¹‰APIæ¥å£åœ¨Knife4jçš„Uiç•Œé¢ä¸­æ˜¾ç¤º" /></p>

<h2 id="-æ€»ç»“">ğŸ“– æ€»ç»“</h2>

<p>æœ¬æ–‡ä¸»è¦ä»‹ç»äº†åŸºäºspringfoxæˆ–è€…springdocæ¡†æ¶ï¼Œæ·»åŠ è‡ªå®šä¹‰APIæ¥å£çš„ç¤ºä¾‹ï¼Œå¼€å‘è€…å¯ä»¥æ ¹æ®å…¶ä¸­çš„æ€æƒ³è‡ªè¡Œæ‰©å±•ï¼Œè¾¾åˆ°è‡ªå·±çš„ä¸šåŠ¡éœ€æ±‚ã€‚</p>

    </article>
    <div class="share">
      <div class="share-component"></div>
    </div>
    <div class="comment">
      

  

  
        <div id="gitalk-container"></div>
        <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
        <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
        <script>
        var gitalk = new Gitalk({
            id: '/2023/07/13/knife4j-customer-add-api/',
            clientID: 'af23e0d8d5f41c7b3719',
            clientSecret: '822f4fcf8e75da6193bd6f26bab3111ecce89142',
            repo: 'blog-comments',
            owner: 'xiaoymin',
            admin: ['xiaoymin'],
            labels: ['gitment'],
            perPage: 50,
        })
        gitalk.render('gitalk-container')
        </script>
  


    </div>
  </div>
  <div class="column one-fourth">
    
<h3>ç«™å†…æœç´¢</h3>
<div id="site_search">
    <input type="text" id="search_box" placeholder="æœç´¢">
</div>

<ul id="search_results"></ul>

<link rel="stylesheet" type="text/css" href="http://localhost:4000/assets/css/modules/sidebar-search.css">
<script src="http://localhost:4000/assets/js/simple-jekyll-search.min.js"></script>
<script src="http://localhost:4000/assets/js/search.js"></script>

<script type="text/javascript">
SimpleJekyllSearch({
    searchInput: document.getElementById('search_box'),
    resultsContainer: document.getElementById('search_results'),
    json: 'http://localhost:4000/assets/search_data.json',
    searchResultTemplate: '<li><a href="{url}" title="{desc}">{title}</a></li>',
    noResultsText: 'No results found',
    limit: 10,
    fuzzy: false,
    exclude: ['Welcome']
})
</script>

    

    <div style="text-align: center;">
  <h2>å¾®ä¿¡å…¬ä¼—å·</h2>
</div>
<div style="text-align: center;"><img src="/images/website/mp/qrcode_mini.jpg" /> </div>
<h3 class="post-directory-title mobile-hidden">Table of Contents</h3>
<div id="post-directory-module" class="mobile-hidden">
  <section class="post-directory">
    <!-- Links that trigger the jumping -->
    <!-- Added by javascript below -->
    <dl></dl>
  </section>
</div>


<script src="http://localhost:4000/assets/js/jquery.toc.js"></script>
  </div>
</div>
</section>
<!-- /section.content -->

    <footer class="container">
        <div class="site-footer" role="contentinfo">
            <div class="copyright left mobile-block">
                    Â© 2015
                    <span title="è‚–ç‰æ°‘">è‚–ç‰æ°‘</span>
                    <a href="javascript:window.scrollTo(0,0)" class="right mobile-visible">TOP</a>
            </div>

            <ul class="site-footer-links right mobile-hidden">
                <li>
                    <a href="javascript:window.scrollTo(0,0)" >TOP</a>
                </li>
            </ul>
            <a href="https://github.com/xiaoymin/xiaoymin.github.io" target="_blank" aria-label="view source code">
                <span class="mega-octicon octicon-mark-github" title="GitHub"></span>
            </a>
            <ul class="site-footer-links mobile-hidden">
                
                <li>
                    <a href="http://localhost:4000/" title="é¦–é¡µ" target="">é¦–é¡µ</a>
                </li>
                
                <li>
                    <a href="http://localhost:4000/categories/" title="åˆ†ç±»" target="">åˆ†ç±»</a>
                </li>
                
                <li>
                    <a href="http://localhost:4000/archives/" title="å½’æ¡£" target="">å½’æ¡£</a>
                </li>
                
                <li>
                    <a href="http://localhost:4000/about/" title="å…³äº" target="">å…³äº</a>
                </li>
                
                <li><a href="http://localhost:4000/feed.xml"><span class="octicon octicon-rss" style="color:orange;"></span></a></li>
            </ul>

        </div>
        <div style="padding-bottom: 40px;
    font-size: 14px;
    height: 14px;
    vertical-align: middle;
    text-align: center;
    color: #999999;
    border-top: 1px solid #eee;">
            <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <span id="busuanzi_container_site_uv"> <strong>è®¿å®¢æ•°</strong> <span id="busuanzi_value_site_uv"></span></span>
            <span id="busuanzi_container_site_pv"> <strong>è®¿é—®é‡</strong> <span id="busuanzi_value_site_pv"></span></span>
        </div>
    </footer>
    <div class="tools-wrapper">
      <a class="gotop" href="#" title="å›åˆ°é¡¶éƒ¨"><span class="octicon octicon-arrow-up"></span></a>
    </div>
    <!-- / footer -->
    <script src="http://localhost:4000/assets/vendor/share.js/dist/js/share.min.js"></script>
    <script src="http://localhost:4000/assets/js/geopattern.js"></script>
    <script src="http://localhost:4000/assets/js/prism.js"></script>
    <link rel="stylesheet" href="http://localhost:4000/assets/css/globals/prism.css">
    <script>
      jQuery(document).ready(function($) {
        // geopattern
        $('.geopattern').each(function(){
          $(this).geopattern($(this).data('pattern-id'));
        });
       // hljs.initHighlightingOnLoad();
      });
    </script>

    

    

    

    

    
</body>
</html>
